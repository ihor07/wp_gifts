function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){"use strict";var e="wcpwThumbnail",n={},i=t(document),o=function(e,i){return this.element=e,this.options=t.extend({},n,i),this.init()};o.prototype.init=function(){return this.$element=t(this.element),this.$id=this.$element.find('[data-component~="wcpw-thumbnail-id"]'),this.$image=this.$element.find('[data-component~="wcpw-thumbnail-image"]'),this.initEventListeners()},o.prototype.initEventListeners=function(){var t=this;return this.$element.on("click",'[data-component~="wcpw-thumbnail-set"]',(function(e){return e.preventDefault(),t.openModal()})),this.$element.on("click",'[data-component~="wcpw-thumbnail-remove"]',(function(e){return e.preventDefault(),t.removeImage()})),this},o.prototype.openModal=function(){var t=this;return this.modalFrame?(this.modalFrame.open(),this):(this.modalFrame=wp.media.frames.downloadable_file=wp.media({title:"Select image",button:{text:"Select"},multiple:!1}),this.modalFrame.on("select",(function(){return t.modalFrame.state().get("selection").map((function(e){var n=e.toJSON();if(!n.id)return null;var i={}.hasOwnProperty.call(n,"sizes")&&{}.hasOwnProperty.call(n.sizes,"thumbnail")?n.sizes.thumbnail.url:n.url;return t.$image.html('<img src="'.concat(i,'">')),t.$id.val(n.id),t.$element.trigger("selected.thumbnail.wcpw",[t,e]),e}))})),this.modalFrame.open())},o.prototype.removeImage=function(){return this.$image.html(""),this.$id.val(""),this.$element.trigger("removed.thumbnail.wcpw",[this]),this},t.fn[e]=function(n){return this.each((function(){t.data(this,e)||t.data(this,e,new o(this,n))}))};var r=function(){return t('[data-component~="wcpw-thumbnail"]').each((function(){return t(this).wcpwThumbnail()}))};i.ready((function(){return r()})),i.on("init.thumbnail.wcpw",(function(){return r()}))}));